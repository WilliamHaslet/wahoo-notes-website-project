{% load static %}
{# Load the tag library #}
{% load bootstrap5 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

{% load socialaccount %}

{% block content %}
<head>
  <title>main_app</title>
  <link rel="stylesheet" type="text/css" href="{% static 'main_app/style.css' %}">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700&family=Roboto:wght@300&display=swap" rel="stylesheet">
</head>

<body>
  {% if user.is_authenticated %}
  <!-- <br><center><h1> Wahoo Notes </h1></center><br> -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link active" href="{% url 'main_app:index'%}">Home </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'main_app:editprofile'%}">Edit Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'main_app:addclasses'%}">Add Class</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'main_app:listclasses'%}">View Schedule</a>
      </li>
      </ul>
    </div>
    <div class="navbar navbar-expand-lg navbar-light bg-light">
      <ul class="navbar-nav ml-auto">
          <li class="nav-item">
              <a class="nav-link" href="{% url 'main_app:logout' %}"> Log Out </a>
          </li>
      </ul>
    </div>
  </nav>
  <div class="container">
    <div class="d-flex justify-content-center">
      <h1 class="mt-5">Profile</h1>
    </div>
    <div class="d-flex justify-content-center">
      <ul>
        <li>Name: {{ user.username }}</li>
      <li>Computing ID: {{ user.profile.computing_id }}</li>
        <li>Email: {{ user.email }}</li>
        <li>Year: {{ user.profile.year }}</li>
      </ul>
    </div>
  </div>
  <center><h2 class="mt-5">Your Classes</h1>
  {% for course in user.profile.classes.all %}
    <li><a href="{% url 'main_app:classdetail' course.id %}">{{course.subject}}
      {{course.code}}: {{course.section}}</a> - {{course.name}}</li>
  {% endfor %}
  </center>
  <footer class="bg-light text-center text-lg-start">
    <div class="text-center p-3" style="background-color: rgba(35, 45, 75, 0.85)">
      Copyright © 2021 Group A-08
    </div>
  </footer>

  {% else %}
    <login_bg>
      <login_text>
        <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="#f4f5fa" class="bi bi-pencil-square" viewBox="0 0 16 16">
          <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
          <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
        </svg>
        <!-- Some backup fonts in case the first isn't available -->
        <p style = "font-family:'Lucida Handwriting', Arial, Serif; display:inline; font-size:24px; color:#f4f5fa; text-shadow:1px 1px #a9afc7"><b>Insert logo here?</b></p>
        <div class="container p-5 my-4 shadow-lg rounded border border-warning" style="background-color: rgba(35, 45, 75, 0.85); color: #E57200">
          <h1><p style = "font-family: 'Nunito Sans', Arial, Serif">Welcome</p></h1>
          <h3><p style = "font-family: 'Roboto', Arial, Serif">Create your UVA schedule and share course <br> notes with other students!</p></h3>
          <br>
          <a href="{% provider_login_url 'google' %}" class="btn btn-primary">Log in with Google</a><br><br>
          <a class="small" href ="https://cs3240.cs.virginia.edu/index.html" target="_blank">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="#fbb584" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"></path>
              <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"></path>
            </svg>
            <small>&nbsp;Visit the CS3240 Fall 2021 Homepage</small>
          </a.small>
        </div>
      </login_text>

      <footer class="bg-light text-center text-lg-start">
        <div class="text-center p-3" style="background-color: rgba(35, 45, 75, 0.85)">
          Copyright © 2021 Group A-08
        </div>
      </footer>
    </login_bg>
  {% endif %}
</body>

<style type="text/css">
.container p-5 my-5 text-black rounded border border-warning {
  color: rgb(37, 22, 119);
}
.btn-primary {
    color: #fff;
    background-color: #466197;
    border-color: #f69350;
}
.btn-primary:hover {
    background-color: #5374b6;
}
a.small:link {
  color: rgb(213, 216, 247);
  background-color: transparent;
  text-decoration: none;
}
a.small:visited {
  color: #fbb584;
  background-color: transparent;
  text-decoration: none;
}
a.small:hover {
  color: #fbb584;
  background-color: transparent;
  text-decoration: underline;
}
</style>
{% endblock %}